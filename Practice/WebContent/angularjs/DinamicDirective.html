<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html ng-app="myApp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Directives.</title>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

</head>
<body ng-controller='myController'>
<div >
  Date format: <input  type="text" ng-model="format"> <hr/>
 
</div>
Current Time is : <span time-Directive={{format}} />


</body>
<script>

var myApp = angular.module('myApp',[]);
myApp.controller('myController',function($scope){
$scope.format = 'h:mm:ss a';
});

myApp.directive("timeDirective",function($interval, dateFilter){

return{
   link :function(scope,element,attrs){
             
            currentDate();
           function currentDate(){
		   element.text('  Current Time is :'+dateFilter(new Date(), scope.format)+' & format is '+attrs.timeDirective); 
		   }
		   
		   
		  $interval(function(){
		  currentDate();
		  },100); 
		   
          
   }
};
});

</script>

</html>
